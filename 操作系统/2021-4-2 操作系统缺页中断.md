# 操作系统中的缺页中断 操作系统中的中断

## 缺页中断
* malloc()和mmap()等内存分配函数，在分配时只是建立了进程虚拟地址空间，并没有分配虚拟内存对应的物理内存。当进程访问这些没有建立映射关系的虚拟内存时，处理器自动触发一个缺页异常。
* 缺页中断：在请求分页系统中，可以通过查询页表中的状态位来确定所要访问的页面是否存在于内存中。每当所要访问的页面不在内存是，会产生一次缺页中断，此时操作系统会根据页表中的外存地址在外存中找到所缺的一页，将其调入内存。


### 步骤
* 保护CPU现场
* 分析中断原因
* 转入缺页中断处理程序进行处理
* 恢复CPU现场，继续执行

### 与一般中断区别
* 在指令执行期间产生和处理缺页中断信号
* 一条指令在执行期间，可能产生多次缺页中断
* 缺页中断返回是，执行产生中断的一条指令，而一般的中断返回是，执行下一条指令。

## 操作系统中断
* 中断是指**CPU对系统发生的某个事件做出的一种反应，CPU暂停正在执行的程序**，保存现场后自动去执行相应的处理程序，处理完该事件后再返回中断处继续执行原来的程序。
* 中断一般三类，一种是由**CPU外部引起**的，如I/O中断、时钟中断，一种是来自**CPU内部事件或程序执行中引起的中断**，例如程序非法操作，地址越界、浮点溢出），最后一种是在**程序中使用了系统调用**引起的。
* 而中断处理一般分为**中断响应和中断处理两个步骤，中断响应由硬件实施，中断处理主要由软件实施**。


参考博客：https://blog.csdn.net/qq_41007781/article/details/94398405
