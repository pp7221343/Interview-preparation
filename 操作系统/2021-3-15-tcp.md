tcp协议：
    是一个面向连接的，可靠的网络传输协议
    
      连接：三次握手
      
        客户端发送SYN（建立连接） 服务端状态：SYN_RECV
        
        服务端回复客户端SYN+ACK
        
        客户端回复ACK
        
        
        为什么要三次握手：
        保证连接全双工，和部分可靠性，可靠性更多通过重传机制来保证
        防止已经失效的信息因为网络原因，又发送给了服务端，造成误判，浪费网络资源
        
        例如：当客户端第一次发送SYN消息时，超时，再次发送SYN消息以后，服务端ack确认并通信完成，这时失效的SYN消息发送到了服务端，服务端确认以后，这时客户端已经关闭连接，连接建立失败
        
      连接：四次分手
        客户端发送FIN
        服务端回复ACK
        服务端回复FIN
        客户端再次回复ACK
        
        建立tcp连接以后，一方发送数据，另一方回复ack，之后才会回复资源
        http除了读取数据包大小，还要读取content-length来确定完整请求是多大
        
        为什么要四次分手
            保证连接双方都已经不在保持连接
            当收到客户端FIN消息，仅表示客户端不在发送消息，服务端未必把全部消息发送给客户端，发送完成之后服务端主动发送FIN_ACK消息来确认服务端关闭连接
            
         为什么需要TIME_WAIT
         为实现tcp全双工连接的可靠性释放
         
         为什么建立连接是三次握手，而关闭连接却是四次挥手呢？

            这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，我们也未必全部数据都发送给对方了，所以我们不可以立即close，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，我们的ACK和FIN一般都会分开发送
        
        测试：
        tcpdump抓包
        tcpdump  -nn  -i  （-X）  eth0  port 80
        

socket：一方的ip+port和另一方的ip+port建立连接

同一个客户端程序可以建立最多65535(端口号数量)个连接
服务端只开辟一个端口连接，只有一个端口占用
如果客户端要建立上百万的连接，在端口号被使用的情况下，需要新增ip地址（网卡）信息来建立新的连接
          
